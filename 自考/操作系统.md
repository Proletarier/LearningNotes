# 操作系统概论

## 操作系统的概念

### 计算机系统
1. **定义:**  
   计算机系统是一种可以按用户的要求接受和存储信息、自动进行数据处理并输出结果信息的系统
2. **分类:**  
   * 广义: 机械式系统和电子式系统
   * 电子式系统: 模拟式和数字式计算机系统
3. **组成:**  
   * 硬件系统和软件系统

<table>
  <tr>
    <td rowspan="3">软件系统</td>
    <td>应用软件:文字处理、图形图像处理、科学计算</td>
  </tr>
  <tr>
    <td>支撑软件:数据库、网络、多媒体</td>
  </tr>
  <tr>
    <td>系统软件:操作系统、编译程序</td>
  </tr>
  <tr>
    <td>硬件系统</td>
    <td>中央处理器、内存储器、外存储器(硬盘、磁带)、输入输出设备(键盘、鼠标、显示器、打印机)</td>
  </tr>
</table>

### 操作系统的定义
  操作系统是计算机系统中的一个系统软件,它是这样一些程序模块的集合:他们能有效的组织和管理计算机系统中的硬件及软件资源,合理的组织计算机工作流程,控制程序的运行,并向用户提供各种服务功能,使得用户能够灵活、方便、有效的使用计算机,并且使计算机高效的运行

### 操作系统的特征
  1. 并发性
     是指在计算机系统中同时存在着若干个运行着程序、从宏观上看、这些程序在同时向前推进
  2. 共享性  
     操作系统与多个用户程序共用系统中的各种资源、比如CPU、内存、外部设备等
  3. 随机性  
     操作系统不能对所有运行的程序的行为及硬件设备的情况作出任何事先的假定
     
### 研究操作系统的观点
1. 软件的观点
   操作系统是一种大型系统软件,它是多种功能程序的集合,有外在特性和内在特性.
   * 外在特性: 接口
   * 内在特性: 与硬件交互
2. 资源管理的观点
3. 进程的观点 
4. 虚拟器的观点  
   在操作系统的支持下,用户不需要直接使用硬件机器,而是通过操作系统提供的各种手段来控制和使用计算器.

### 操作系统的功能

1. 进程管理  
   * **进程管理的实质:** 对中央处理器进行管理.或者称为处理机管理
   * **多道程序技术:** 多个程序同时放入内存,如果一个程序因为等待某个条件不能运行,就把处理器专用权交给另一个可运行程序.
   * **进程的引入:**  为了描述多道程序的病发而引入
   * **进程的简单定义:** 一个程序的运行过程
   * **进程管理的内容:** 进程控制、进程同步、进程通信、调度
2. 存储管理
   1. 任务: 管理计算机内存的资源  
   2. 功能:  
       * **内存的分配与回收:**  当多个程序共享有限的内存资源,要考虑如何为多个程序分配有限的内存空间,以及程序运行完毕还需要内存回收.
       * **存储保护:** 存储在内存中的多个程序和数据应该彼此隔离、互不侵扰
       * **内存扩充:** 将辅助存储器作为内存的扩充空间.
3. 文件管理  
   1. 任务:  
      有效地支持文件的存储,检索和修改等操作,解决文件的共享、保密和保护问题,以方便用户方便、安全地访问文件.
   2. 功能  
      1. 文件存储空间的管理
      2. 目录管理
      3. 文件系统的安全性
4. 设备管理
   1. 设备管理的含义  
      指计算机系统中除了处理器和内存以外的所有输入、输出设备的管理.
   2. 功能  
      负责外部设备的分配、启动和故障处理.
   3. 采用的技术  
      中断技术、通道技术、虚拟设备技术、缓冲技术、尽可能的发挥设备和主机的并行能力
5. 用户接口

## 操作系统的体系结构

### Windows操作系统的体系结构
1. 内核  
   **功能:** 线程调度、陷入处理和异常调度、中断处理和调度、多处理器同步、供执行体使用的基本内核对象
2. 硬件抽象层HAL  
   系统可移植性的关键部分,为运行在Windows操作系统上的硬件平台低级接口,隐藏了各种与硬件有关的细节,如I/O接口等专用的依赖与计算机平台的函数
3. 执行体  
   属于内核,以系统函数的形式提供了系统的服务,可通过Win32API进行访问
4. 系统进程和系统线程  
   执行系统代码

### UNIX操作系统的体系结构
1. 内核层  
   是操作系统管理和控制中心,常驻内存,有两种借口: 内核与硬件的接口和内核与shell的接口
   内核本身分为两部分: 进程控制子系统和文件子系统
2. 系统层  
   内核层与应用层之间,供程序员开发调用,包括进程管理、文件管理、中断状态
3. 应用层
   面向用户操作的界面
   
### Linux操作系统的体系结构
 * 四个部分: 内核、shell、文件系统和应用程序

### Android操作系统的体系结构
 * 四个部分: 从低到高: 应用程序层、应用框架层、系统运行层和Linux内核层

## 操作系统的发展

### 发展过程
1. 手工阶段
2. 监控程序
3. 多道批处理程序
4. 分时与实时操作系统
5. UNIX通用操作系统
6. 个人计算机操作系统

## 操作系统的分类
 根据用户界面和功能特征分类
* 三种基本类型:
  1. 批处理系统
  2. 分时系统
  3. 实时系统
 随着体系结构的发展  
* 新类型:
  1. 个人操作系统
  2. 网络操作系统
  3. 分布式操作系统
  4. 嵌入式操作系统

### 批处理操作系统
1. 基本工作方式  
   用户将作业交给操作系统,系统操作员在收到作业后,并不立即将作业输入计算机,而是收到一定数量的用户作业后,组成一批作业,再把这批作业输入到计算机中.这批作业可在系统中形成一个连续的、自动转接的作业流.  
   系统操作员然后启动操作系统,系统自动、依次执行每个作业.最后由操作员将执行完毕的作业交给用户
2. 特点分类  
   * 特点: 成批处理,用户不能干预自己作业的运行
   * 目标: 系统资源利用率高, 作业吞吐率高
   * 分类: 简单批处理和多道批处理
3. 设计思想  
  在监控程序启动之前,操作员有选择的把若干个作业合并成一批作业,将这批作业安装在输入设备上.然后启动监控程序运行
4. 作业控制说明书  
  作业控制说明书时由作业控制欲也编写的一段程序.它通常存储在被处理作业的前面
5. 一般指令和特权指令  
   **操作系统的运行模式:** 用户模式和特权模式  
   **处理器的状态:** 目态和管态  
   **机器指令:** 一般指令和特权指令  
   **系统调用:** 用户程序不能直接使用特权指令,它门必须向操作系统请求这些狗功能,这些功能通过系统调用完成  
6. 系统调用的过程
   首先,当系统调用发生时,由中断或异常处理程序把控制流程转移到监控程序内的一些特定位置,处理器模式变特权模式,其次,由监控程序执行被请求的功能. 最后,恢复现场,运行模式变为用户模式交给用户程序  
7. SPOOLing技术  
   又叫假脱机技术
   
### 分时系统








   
# 文件系统
### 文件的分类
1. 按文件系统的保护级别  
   只读文件、读写文件、不保护文件
2. 按文件的性质和用途  
   系统文件、用户文件、库函数文件
3. 按文件的数据流向  
   输入型文件、输出型文件、输出输出文件
4. 按文件的组织形式  
   普通文件、目录文件、特殊文件
5. 根据使用和管理情况  
   临时文件、永久文件、资源文件
